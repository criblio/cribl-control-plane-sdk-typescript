# FunctionAggregationConf

## Example Usage

```typescript
import { FunctionAggregationConf } from "cribl-control-plane/models";

let value: FunctionAggregationConf = {
  prefix: "<value>",
  aggregations: [
    "<value 1>",
    "<value 2>",
  ],
  groupbys: [
    "<value 1>",
    "<value 2>",
  ],
  flushEventLimit: 1082.59,
  flushMemLimit: "<value>",
  searchAggMode: "<value>",
  add: [
    {
      name: "<value>",
      value: "<value>",
    },
  ],
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                         | Type                                                                                                                                                                                                                                                                                                                                          | Required                                                                                                                                                                                                                                                                                                                                      | Description                                                                                                                                                                                                                                                                                                                                   |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `passthrough`                                                                                                                                                                                                                                                                                                                                 | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Pass through the original events along with the aggregation events                                                                                                                                                                                                                                                                            |
| `preserveGroupBys`                                                                                                                                                                                                                                                                                                                            | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Preserve the structure of the original aggregation event's groupby fields                                                                                                                                                                                                                                                                     |
| `sufficientStatsOnly`                                                                                                                                                                                                                                                                                                                         | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Output only statistics that are sufficient for the supplied aggregations                                                                                                                                                                                                                                                                      |
| `metricsMode`                                                                                                                                                                                                                                                                                                                                 | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Enable to output the aggregates as metrics. When disabled, aggregates are output as events.                                                                                                                                                                                                                                                   |
| `prefix`                                                                                                                                                                                                                                                                                                                                      | *string*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | A prefix that is prepended to all of the fields output by this Aggregations Function                                                                                                                                                                                                                                                          |
| `timeWindow`                                                                                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The time span of the tumbling window for aggregating events. Must be a valid time string (such as 10s).                                                                                                                                                                                                                                       |
| `aggregations`                                                                                                                                                                                                                                                                                                                                | *string*[]                                                                                                                                                                                                                                                                                                                                    | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                            | Aggregate function to perform on events. Example: sum(bytes).where(action=='REJECT').as(TotalBytes)                                                                                                                                                                                                                                           |
| `groupbys`                                                                                                                                                                                                                                                                                                                                    | *string*[]                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Optional: One or more fields to group aggregates by. Supports wildcard expressions. Warning: Using wildcard '*' causes all fields in the event to be included, which can result in high cardinality and increased memory usage. Exclude fields that can result in high cardinality before using wildcards. Example: !_time, !_numericValue, * |
| `flushEventLimit`                                                                                                                                                                                                                                                                                                                             | *number*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The maximum number of events to include in any given aggregation event                                                                                                                                                                                                                                                                        |
| `flushMemLimit`                                                                                                                                                                                                                                                                                                                               | *string*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | The memory usage limit to impose upon aggregations. Defaults to unlimited (all available system memory). Accepts numerals with units like KB and MB (example: 4GB).                                                                                                                                                                           |
| `cumulative`                                                                                                                                                                                                                                                                                                                                  | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Enable to retain aggregations for cumulative aggregations when flushing out an aggregation table event. When disabled (the default), aggregations are reset to 0 on flush.                                                                                                                                                                    |
| `searchAggMode`                                                                                                                                                                                                                                                                                                                               | *string*                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Allows Cribl Search-specific aggregation configuration                                                                                                                                                                                                                                                                                        |
| `add`                                                                                                                                                                                                                                                                                                                                         | [models.FunctionAggregationAdd](../models/functionaggregationadd.md)[]                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Set of key-value pairs to evaluate and add/set                                                                                                                                                                                                                                                                                                |
| `shouldTreatDotsAsLiterals`                                                                                                                                                                                                                                                                                                                   | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Treat dots in dimension names as literals. This is useful for top-level dimensions that contain dots, such as 'service.name'.                                                                                                                                                                                                                 |
| `flushOnInputClose`                                                                                                                                                                                                                                                                                                                           | *boolean*                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                            | Flush aggregations when an input stream is closed. If disabled, Time Window Settings control flush behavior.                                                                                                                                                                                                                                  |