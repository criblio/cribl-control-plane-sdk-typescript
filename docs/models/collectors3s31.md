# CollectorS3S31

## Example Usage

```typescript
import { CollectorS3S31 } from "cribl-control-plane/models";

let value: CollectorS3S31 = {
  type: "s3",
  outputName: "<value>",
  bucket: "<value>",
  region: "<value>",
  path: "/var",
  extractors: [
    {
      key: "<key>",
      expression: "<value>",
    },
  ],
  endpoint: "<value>",
  assumeRoleArn: "<value>",
  assumeRoleExternalId: "<id>",
  awsApiKey: "<value>",
  awsSecretKey: "<value>",
  awsSecret: "<value>",
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                   | Type                                                                                                                                                                                                                                                                                    | Required                                                                                                                                                                                                                                                                                | Description                                                                                                                                                                                                                                                                             |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `partitioningScheme`                                                                                                                                                                                                                                                                    | [models.PartitioningScheme1](../models/partitioningscheme1.md)                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Partitioning scheme used for this dataset. Using a known scheme like DDSS enables more efficient data reading and retrieval.                                                                                                                                                            |
| `type`                                                                                                                                                                                                                                                                                  | [models.CollectorS3Type1](../models/collectors3type1.md)                                                                                                                                                                                                                                | :heavy_check_mark:                                                                                                                                                                                                                                                                      | Collector type: s3                                                                                                                                                                                                                                                                      |
| `outputName`                                                                                                                                                                                                                                                                            | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Name of the predefined Destination that will be used to auto-populate Collector settings                                                                                                                                                                                                |
| `bucket`                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                | :heavy_check_mark:                                                                                                                                                                                                                                                                      | S3 Bucket from which to collect data                                                                                                                                                                                                                                                    |
| `parquetChunkSizeMB`                                                                                                                                                                                                                                                                    | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum file size for each Parquet chunk                                                                                                                                                                                                                                                |
| `parquetChunkDownloadTimeout`                                                                                                                                                                                                                                                           | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum time allowed for downloading a Parquet chunk. Processing will stop if a chunk cannot be downloaded within the time specified.                                                                                                                                                   |
| `region`                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Region from which to retrieve data                                                                                                                                                                                                                                                      |
| `path`                                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Directory where data will be collected. Templating (such as 'myDir/${datacenter}/${host}/${app}/') and time-based tokens (such as 'myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/') are supported. Can be a constant (enclosed in quotes) or a JavaScript expression.                  |
| `extractors`                                                                                                                                                                                                                                                                            | [models.CollectorS3Extractor1](../models/collectors3extractor1.md)[]                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field. |
| `awsAuthenticationMethod`                                                                                                                                                                                                                                                               | [models.CollectorS3AuthenticationMethod1](../models/collectors3authenticationmethod1.md)                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | AWS authentication method. Choose Auto to use IAM roles.                                                                                                                                                                                                                                |
| `endpoint`                                                                                                                                                                                                                                                                              | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Must point to an S3-compatible endpoint. If empty, defaults to an AWS region-specific endpoint.                                                                                                                                                                                         |
| `signatureVersion`                                                                                                                                                                                                                                                                      | [models.CollectorS3SignatureVersion1](../models/collectors3signatureversion1.md)                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Signature version to use for signing S3 requests                                                                                                                                                                                                                                        |
| `enableAssumeRole`                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Use AssumeRole credentials                                                                                                                                                                                                                                                              |
| `assumeRoleArn`                                                                                                                                                                                                                                                                         | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Amazon Resource Name (ARN) of the role to assume                                                                                                                                                                                                                                        |
| `assumeRoleExternalId`                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | External ID to use when assuming role                                                                                                                                                                                                                                                   |
| `durationSeconds`                                                                                                                                                                                                                                                                       | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Duration of the Assumed Role's session, in seconds. Minimum is 900 (15 minutes), default is 3600 (1 hour), and maximum is 43200 (12 hours).                                                                                                                                             |
| `maxBatchSize`                                                                                                                                                                                                                                                                          | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum number of metadata objects to batch before recording as results                                                                                                                                                                                                                 |
| `recurse`                                                                                                                                                                                                                                                                               | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Traverse and include files from subdirectories. Leave this option enabled to ensure that all nested directories are searched and their contents collected.                                                                                                                              |
| `reuseConnections`                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Reuse connections between requests to improve performance                                                                                                                                                                                                                               |
| `rejectUnauthorized`                                                                                                                                                                                                                                                                    | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Reject certificates that cannot be verified against a valid CA (such as a self-signed certificate)                                                                                                                                                                                      |
| `verifyPermissions`                                                                                                                                                                                                                                                                     | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Disable if you can access files within the bucket but not the bucket itself. Resolves errors of the form "discover task initialization failed...error: Forbidden".                                                                                                                      |
| `disableTimeFilter`                                                                                                                                                                                                                                                                     | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Disable Collector event time filtering when a date range is specified                                                                                                                                                                                                                   |
| `awsApiKey`                                                                                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Access key. If not present, will fall back to env.AWS_ACCESS_KEY_ID, or to the metadata endpoint for IAM creds. Optional when running on AWS. This value can be a constant or a JavaScript expression.                                                                                  |
| `awsSecretKey`                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Secret key. If not present, will fall back to env.AWS_SECRET_ACCESS_KEY, or to the metadata endpoint for IAM creds. Optional when running on AWS. This value can be a constant or a JavaScript expression.                                                                              |
| `awsSecret`                                                                                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Select or create a stored secret that references AWS access key and secret key.                                                                                                                                                                                                         |