# S3AwsAuthenticationMethodSecret

## Example Usage

```typescript
import { S3AwsAuthenticationMethodSecret } from "cribl-control-plane/models";

let value: S3AwsAuthenticationMethodSecret = {
  awsAuthenticationMethod: "secret",
  awsSecret: "<value>",
  outputName: "<value>",
  bucket: "<value>",
  region: "<value>",
  path: "/usr/X11R6",
  extractors: [
    {
      key: "<key>",
      expression: "<value>",
    },
  ],
  endpoint: "<value>",
  assumeRoleArn: "<value>",
  assumeRoleExternalId: "<id>",
  recurse: "<value>",
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                   | Type                                                                                                                                                                                                                                                                                    | Required                                                                                                                                                                                                                                                                                | Description                                                                                                                                                                                                                                                                             |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `awsAuthenticationMethod`                                                                                                                                                                                                                                                               | *"secret"*                                                                                                                                                                                                                                                                              | :heavy_check_mark:                                                                                                                                                                                                                                                                      | AWS authentication method. Choose Auto to use IAM roles.                                                                                                                                                                                                                                |
| `awsSecret`                                                                                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Select or create a stored secret that references AWS access key and secret key.                                                                                                                                                                                                         |
| `outputName`                                                                                                                                                                                                                                                                            | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Name of the predefined Destination that will be used to auto-populate Collector settings                                                                                                                                                                                                |
| `bucket`                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                | :heavy_check_mark:                                                                                                                                                                                                                                                                      | S3 Bucket from which to collect data                                                                                                                                                                                                                                                    |
| `parquetChunkSizeMB`                                                                                                                                                                                                                                                                    | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum file size for each Parquet chunk                                                                                                                                                                                                                                                |
| `parquetChunkDownloadTimeout`                                                                                                                                                                                                                                                           | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum time allowed for downloading a Parquet chunk. Processing will stop if a chunk cannot be downloaded within the time specified.                                                                                                                                                   |
| `region`                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Region from which to retrieve data                                                                                                                                                                                                                                                      |
| `path`                                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Directory where data will be collected. Templating (such as 'myDir/${datacenter}/${host}/${app}/') and time-based tokens (such as 'myOtherDir/${_time:%Y}/${_time:%m}/${_time:%d}/') are supported. Can be a constant (enclosed in quotes) or a JavaScript expression.                  |
| `partitioningScheme`                                                                                                                                                                                                                                                                    | [models.S3AwsAuthenticationMethodSecretPartitioningScheme](../models/s3awsauthenticationmethodsecretpartitioningscheme.md)                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Partitioning scheme used for this dataset. Using a known scheme like DDSS enables more efficient data reading and retrieval.                                                                                                                                                            |
| `extractors`                                                                                                                                                                                                                                                                            | [models.S3AwsAuthenticationMethodSecretExtractor](../models/s3awsauthenticationmethodsecretextractor.md)[]                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Allows using template tokens as context for expressions that enrich discovery results. For example, given a template /path/${epoch}, an extractor under key "epoch" with an expression {date: new Date(+value*1000)}, will enrich discovery results with a human readable "date" field. |
| `endpoint`                                                                                                                                                                                                                                                                              | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Must point to an S3-compatible endpoint. If empty, defaults to an AWS region-specific endpoint.                                                                                                                                                                                         |
| `signatureVersion`                                                                                                                                                                                                                                                                      | [models.SignatureVersionOptionsS3CollectorConf](../models/signatureversionoptionss3collectorconf.md)                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Signature version to use for signing S3 requests                                                                                                                                                                                                                                        |
| `enableAssumeRole`                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Use AssumeRole credentials                                                                                                                                                                                                                                                              |
| `assumeRoleArn`                                                                                                                                                                                                                                                                         | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Amazon Resource Name (ARN) of the role to assume                                                                                                                                                                                                                                        |
| `assumeRoleExternalId`                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | External ID to use when assuming role                                                                                                                                                                                                                                                   |
| `durationSeconds`                                                                                                                                                                                                                                                                       | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Duration of the Assumed Role's session, in seconds. Minimum is 900 (15 minutes), default is 3600 (1 hour), and maximum is 43200 (12 hours).                                                                                                                                             |
| `maxBatchSize`                                                                                                                                                                                                                                                                          | *number*                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Maximum number of metadata objects to batch before recording as results                                                                                                                                                                                                                 |
| `recurse`                                                                                                                                                                                                                                                                               | *any*                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | N/A                                                                                                                                                                                                                                                                                     |
| `reuseConnections`                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Reuse connections between requests to improve performance                                                                                                                                                                                                                               |
| `rejectUnauthorized`                                                                                                                                                                                                                                                                    | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Reject certificates that cannot be verified against a valid CA (such as a self-signed certificate)                                                                                                                                                                                      |
| `verifyPermissions`                                                                                                                                                                                                                                                                     | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Disable if you can access files within the bucket but not the bucket itself. Resolves errors of the form "discover task initialization failed...error: Forbidden".                                                                                                                      |
| `disableTimeFilter`                                                                                                                                                                                                                                                                     | *boolean*                                                                                                                                                                                                                                                                               | :heavy_minus_sign:                                                                                                                                                                                                                                                                      | Disable Collector event time filtering when a date range is specified                                                                                                                                                                                                                   |