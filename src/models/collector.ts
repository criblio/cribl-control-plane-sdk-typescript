/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as discriminatedUnionTypes from "../types/discriminatedUnion.js";
import { discriminatedUnion } from "../types/discriminatedUnion.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  CollectorAzureBlob,
  CollectorAzureBlob$inboundSchema,
  CollectorAzureBlob$Outbound,
  CollectorAzureBlob$outboundSchema,
} from "./collectorazureblob.js";
import {
  CollectorCriblLake,
  CollectorCriblLake$inboundSchema,
  CollectorCriblLake$Outbound,
  CollectorCriblLake$outboundSchema,
} from "./collectorcribllake.js";
import {
  CollectorDatabase,
  CollectorDatabase$inboundSchema,
  CollectorDatabase$Outbound,
  CollectorDatabase$outboundSchema,
} from "./collectordatabase.js";
import {
  CollectorFilesystem,
  CollectorFilesystem$inboundSchema,
  CollectorFilesystem$Outbound,
  CollectorFilesystem$outboundSchema,
} from "./collectorfilesystem.js";
import {
  CollectorGoogleCloudStorage,
  CollectorGoogleCloudStorage$inboundSchema,
  CollectorGoogleCloudStorage$Outbound,
  CollectorGoogleCloudStorage$outboundSchema,
} from "./collectorgooglecloudstorage.js";
import {
  CollectorHealthCheck,
  CollectorHealthCheck$inboundSchema,
  CollectorHealthCheck$Outbound,
  CollectorHealthCheck$outboundSchema,
} from "./collectorhealthcheck.js";
import {
  CollectorRest,
  CollectorRest$inboundSchema,
  CollectorRest$Outbound,
  CollectorRest$outboundSchema,
} from "./collectorrest.js";
import {
  CollectorS3,
  CollectorS3$inboundSchema,
  CollectorS3$Outbound,
  CollectorS3$outboundSchema,
} from "./collectors3.js";
import {
  CollectorScript,
  CollectorScript$inboundSchema,
  CollectorScript$Outbound,
  CollectorScript$outboundSchema,
} from "./collectorscript.js";
import {
  CollectorSplunk,
  CollectorSplunk$inboundSchema,
  CollectorSplunk$Outbound,
  CollectorSplunk$outboundSchema,
} from "./collectorsplunk.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Collector configuration
 */
export type Collector =
  | CollectorAzureBlob
  | CollectorCriblLake
  | CollectorDatabase
  | CollectorFilesystem
  | CollectorGoogleCloudStorage
  | CollectorHealthCheck
  | CollectorRest
  | CollectorS3
  | CollectorScript
  | CollectorSplunk
  | discriminatedUnionTypes.Unknown<"type">;

/** @internal */
export const Collector$inboundSchema: z.ZodType<
  Collector,
  z.ZodTypeDef,
  unknown
> = discriminatedUnion("type", {
  azure_blob: CollectorAzureBlob$inboundSchema,
  cribl_lake: CollectorCriblLake$inboundSchema,
  database: CollectorDatabase$inboundSchema,
  filesystem: CollectorFilesystem$inboundSchema,
  google_cloud_storage: CollectorGoogleCloudStorage$inboundSchema,
  health_check: CollectorHealthCheck$inboundSchema,
  rest: CollectorRest$inboundSchema,
  s3: CollectorS3$inboundSchema,
  script: CollectorScript$inboundSchema,
  splunk: CollectorSplunk$inboundSchema,
});
/** @internal */
export type Collector$Outbound =
  | CollectorAzureBlob$Outbound
  | CollectorCriblLake$Outbound
  | CollectorDatabase$Outbound
  | CollectorFilesystem$Outbound
  | CollectorGoogleCloudStorage$Outbound
  | CollectorHealthCheck$Outbound
  | CollectorRest$Outbound
  | CollectorS3$Outbound
  | CollectorScript$Outbound
  | CollectorSplunk$Outbound;

/** @internal */
export const Collector$outboundSchema: z.ZodType<
  Collector$Outbound,
  z.ZodTypeDef,
  Collector
> = z.union([
  CollectorAzureBlob$outboundSchema,
  CollectorCriblLake$outboundSchema,
  CollectorDatabase$outboundSchema,
  CollectorFilesystem$outboundSchema,
  CollectorGoogleCloudStorage$outboundSchema,
  CollectorHealthCheck$outboundSchema,
  CollectorRest$outboundSchema,
  CollectorS3$outboundSchema,
  CollectorScript$outboundSchema,
  CollectorSplunk$outboundSchema,
]);

export function collectorToJSON(collector: Collector): string {
  return JSON.stringify(Collector$outboundSchema.parse(collector));
}
export function collectorFromJSON(
  jsonString: string,
): SafeParseResult<Collector, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Collector$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Collector' from JSON`,
  );
}
