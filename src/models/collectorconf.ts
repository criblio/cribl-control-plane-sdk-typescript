/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  CollectorAzureBlob,
  CollectorAzureBlob$inboundSchema,
} from "./collectorazureblob.js";
import {
  CollectorCriblLake,
  CollectorCriblLake$inboundSchema,
} from "./collectorcribllake.js";
import {
  CollectorDatabase,
  CollectorDatabase$inboundSchema,
} from "./collectordatabase.js";
import {
  CollectorFilesystem,
  CollectorFilesystem$inboundSchema,
} from "./collectorfilesystem.js";
import {
  CollectorGoogleCloudStorage,
  CollectorGoogleCloudStorage$inboundSchema,
} from "./collectorgooglecloudstorage.js";
import {
  CollectorHealthCheck,
  CollectorHealthCheck$inboundSchema,
} from "./collectorhealthcheck.js";
import { CollectorRest, CollectorRest$inboundSchema } from "./collectorrest.js";
import { CollectorS3, CollectorS3$inboundSchema } from "./collectors3.js";
import {
  CollectorScript,
  CollectorScript$inboundSchema,
} from "./collectorscript.js";
import {
  CollectorSplunk,
  CollectorSplunk$inboundSchema,
} from "./collectorsplunk.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Collector configuration
 */
export type CollectorConf =
  | CollectorAzureBlob
  | CollectorCriblLake
  | CollectorDatabase
  | CollectorFilesystem
  | CollectorGoogleCloudStorage
  | CollectorHealthCheck
  | CollectorRest
  | CollectorS3
  | CollectorScript
  | CollectorSplunk;

/** @internal */
export const CollectorConf$inboundSchema: z.ZodType<
  CollectorConf,
  z.ZodTypeDef,
  unknown
> = z.union([
  CollectorAzureBlob$inboundSchema,
  CollectorCriblLake$inboundSchema,
  CollectorDatabase$inboundSchema,
  CollectorFilesystem$inboundSchema,
  CollectorGoogleCloudStorage$inboundSchema,
  CollectorHealthCheck$inboundSchema,
  CollectorRest$inboundSchema,
  CollectorS3$inboundSchema,
  CollectorScript$inboundSchema,
  CollectorSplunk$inboundSchema,
]);

export function collectorConfFromJSON(
  jsonString: string,
): SafeParseResult<CollectorConf, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CollectorConf$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CollectorConf' from JSON`,
  );
}
