/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  CollectorAzureBlob,
  CollectorAzureBlob$inboundSchema,
  CollectorAzureBlob$Outbound,
  CollectorAzureBlob$outboundSchema,
} from "./collectorazureblob.js";
import {
  CollectorCriblLake,
  CollectorCriblLake$inboundSchema,
  CollectorCriblLake$Outbound,
  CollectorCriblLake$outboundSchema,
} from "./collectorcribllake.js";
import {
  CollectorDatabase,
  CollectorDatabase$inboundSchema,
  CollectorDatabase$Outbound,
  CollectorDatabase$outboundSchema,
} from "./collectordatabase.js";
import {
  CollectorFilesystem,
  CollectorFilesystem$inboundSchema,
  CollectorFilesystem$Outbound,
  CollectorFilesystem$outboundSchema,
} from "./collectorfilesystem.js";
import {
  CollectorGoogleCloudStorage,
  CollectorGoogleCloudStorage$inboundSchema,
  CollectorGoogleCloudStorage$Outbound,
  CollectorGoogleCloudStorage$outboundSchema,
} from "./collectorgooglecloudstorage.js";
import {
  CollectorHealthCheck,
  CollectorHealthCheck$inboundSchema,
  CollectorHealthCheck$Outbound,
  CollectorHealthCheck$outboundSchema,
} from "./collectorhealthcheck.js";
import {
  CollectorRest,
  CollectorRest$inboundSchema,
  CollectorRest$Outbound,
  CollectorRest$outboundSchema,
} from "./collectorrest.js";
import {
  CollectorS3,
  CollectorS3$inboundSchema,
  CollectorS3$Outbound,
  CollectorS3$outboundSchema,
} from "./collectors3.js";
import {
  CollectorScript,
  CollectorScript$inboundSchema,
  CollectorScript$Outbound,
  CollectorScript$outboundSchema,
} from "./collectorscript.js";
import {
  CollectorSplunk,
  CollectorSplunk$inboundSchema,
  CollectorSplunk$Outbound,
  CollectorSplunk$outboundSchema,
} from "./collectorsplunk.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Collector configuration
 */
export type CollectorConf =
  | (CollectorAzureBlob & { type: "azure_blob" })
  | CollectorCriblLake
  | CollectorDatabase
  | CollectorFilesystem
  | (CollectorGoogleCloudStorage & { type: "google_cloud_storage" })
  | (CollectorHealthCheck & { type: "health_check" })
  | (CollectorRest & { type: "rest" })
  | (CollectorS3 & { type: "s3" })
  | CollectorScript
  | (CollectorSplunk & { type: "splunk" });

/** @internal */
export const CollectorConf$inboundSchema: z.ZodType<
  CollectorConf,
  z.ZodTypeDef,
  unknown
> = z.union([
  CollectorAzureBlob$inboundSchema.and(
    z.object({ type: z.literal("azure_blob") }),
  ),
  CollectorCriblLake$inboundSchema,
  CollectorDatabase$inboundSchema,
  CollectorFilesystem$inboundSchema,
  CollectorGoogleCloudStorage$inboundSchema.and(
    z.object({ type: z.literal("google_cloud_storage") }),
  ),
  CollectorHealthCheck$inboundSchema.and(
    z.object({ type: z.literal("health_check") }),
  ),
  CollectorRest$inboundSchema.and(z.object({ type: z.literal("rest") })),
  CollectorS3$inboundSchema.and(z.object({ type: z.literal("s3") })),
  CollectorScript$inboundSchema,
  CollectorSplunk$inboundSchema.and(z.object({ type: z.literal("splunk") })),
]);
/** @internal */
export type CollectorConf$Outbound =
  | (CollectorAzureBlob$Outbound & { type: "azure_blob" })
  | CollectorCriblLake$Outbound
  | CollectorDatabase$Outbound
  | CollectorFilesystem$Outbound
  | (CollectorGoogleCloudStorage$Outbound & { type: "google_cloud_storage" })
  | (CollectorHealthCheck$Outbound & { type: "health_check" })
  | (CollectorRest$Outbound & { type: "rest" })
  | (CollectorS3$Outbound & { type: "s3" })
  | CollectorScript$Outbound
  | (CollectorSplunk$Outbound & { type: "splunk" });

/** @internal */
export const CollectorConf$outboundSchema: z.ZodType<
  CollectorConf$Outbound,
  z.ZodTypeDef,
  CollectorConf
> = z.union([
  CollectorAzureBlob$outboundSchema.and(
    z.object({ type: z.literal("azure_blob") }),
  ),
  CollectorCriblLake$outboundSchema,
  CollectorDatabase$outboundSchema,
  CollectorFilesystem$outboundSchema,
  CollectorGoogleCloudStorage$outboundSchema.and(
    z.object({ type: z.literal("google_cloud_storage") }),
  ),
  CollectorHealthCheck$outboundSchema.and(
    z.object({ type: z.literal("health_check") }),
  ),
  CollectorRest$outboundSchema.and(z.object({ type: z.literal("rest") })),
  CollectorS3$outboundSchema.and(z.object({ type: z.literal("s3") })),
  CollectorScript$outboundSchema,
  CollectorSplunk$outboundSchema.and(z.object({ type: z.literal("splunk") })),
]);

export function collectorConfToJSON(collectorConf: CollectorConf): string {
  return JSON.stringify(CollectorConf$outboundSchema.parse(collectorConf));
}
export function collectorConfFromJSON(
  jsonString: string,
): SafeParseResult<CollectorConf, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CollectorConf$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CollectorConf' from JSON`,
  );
}
