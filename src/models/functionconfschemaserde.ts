/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import { TypeOptions, TypeOptions$inboundSchema } from "./typeoptions.js";

/**
 * Extract creates new fields. Reserialize extracts and filters fields, and then reserializes.
 */
export const FunctionConfSchemaSerdeOperationMode = {
  /**
   * Extract
   */
  Extract: "extract",
  /**
   * Reserialize
   */
  Reserialize: "reserialize",
} as const;
/**
 * Extract creates new fields. Reserialize extracts and filters fields, and then reserializes.
 */
export type FunctionConfSchemaSerdeOperationMode = OpenEnum<
  typeof FunctionConfSchemaSerdeOperationMode
>;

export type FunctionConfSchemaSerde = {
  /**
   * Extract creates new fields. Reserialize extracts and filters fields, and then reserializes.
   */
  mode?: FunctionConfSchemaSerdeOperationMode | undefined;
  /**
   * Parser or formatter type to use
   */
  type?: TypeOptions | undefined;
  delimChar?: any | undefined;
  quoteChar?: any | undefined;
  escapeChar?: any | undefined;
  nullValue?: any | undefined;
  /**
   * Field containing text to be parsed
   */
  srcField?: string | undefined;
  /**
   * Name of the field to add fields to. Extract mode only.
   */
  dstField?: string | undefined;
  cleanFields?: any | undefined;
};

/** @internal */
export const FunctionConfSchemaSerdeOperationMode$inboundSchema: z.ZodType<
  FunctionConfSchemaSerdeOperationMode,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(FunctionConfSchemaSerdeOperationMode);

/** @internal */
export const FunctionConfSchemaSerde$inboundSchema: z.ZodType<
  FunctionConfSchemaSerde,
  z.ZodTypeDef,
  unknown
> = z.object({
  mode: FunctionConfSchemaSerdeOperationMode$inboundSchema.optional(),
  type: TypeOptions$inboundSchema.optional(),
  delimChar: z.any().optional(),
  quoteChar: z.any().optional(),
  escapeChar: z.any().optional(),
  nullValue: z.any().optional(),
  srcField: z.string().optional(),
  dstField: z.string().optional(),
  cleanFields: z.any().optional(),
});

export function functionConfSchemaSerdeFromJSON(
  jsonString: string,
): SafeParseResult<FunctionConfSchemaSerde, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => FunctionConfSchemaSerde$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'FunctionConfSchemaSerde' from JSON`,
  );
}
