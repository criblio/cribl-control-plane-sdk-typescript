/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { AuthConfig, AuthConfig$inboundSchema } from "./authconfig.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import { GitSettings, GitSettings$inboundSchema } from "./gitsettings.js";
import { JobSettings, JobSettings$inboundSchema } from "./jobsettings.js";
import { Limits, Limits$inboundSchema } from "./limits.js";
import {
  RedisCacheLimits,
  RedisCacheLimits$inboundSchema,
} from "./rediscachelimits.js";
import { RedisLimits, RedisLimits$inboundSchema } from "./redislimits.js";
import {
  SearchSettings,
  SearchSettings$inboundSchema,
} from "./searchsettings.js";
import {
  ServicesLimits,
  ServicesLimits$inboundSchema,
} from "./serviceslimits.js";
import {
  UpgradeGroupSettings,
  UpgradeGroupSettings$inboundSchema,
} from "./upgradegroupsettings.js";
import {
  UpgradeSettings,
  UpgradeSettings$inboundSchema,
} from "./upgradesettings.js";

export type SystemSettingsSsl = {
  caPath?: string | undefined;
  certPath: string;
  disabled: boolean;
  passphrase: string;
  privKeyPath: string;
};

export type SystemSettingsApi = {
  baseUrl?: string | undefined;
  disableApiCache?: boolean | undefined;
  disabled: boolean;
  headers?: { [k: string]: string } | undefined;
  host: string;
  idleSessionTTL?: number | undefined;
  listenOnPort?: boolean | undefined;
  loginRateLimit?: string | undefined;
  port: number;
  protocol: string;
  scripts?: boolean | undefined;
  sensitiveFields?: Array<string> | undefined;
  ssl: SystemSettingsSsl;
  ssoRateLimit?: string | undefined;
  workerRemoteAccess: boolean;
};

export type SystemSettingsBackups = {
  backupPersistence: string;
  backupsDirectory: string;
};

export type SystemSettingsCustomLogo = {
  enabled: boolean;
  logoDescription: string;
  logoImage: string;
};

export const SystemSettingsMode = {
  Edge: "edge",
  Worker: "worker",
  Single: "single",
  Master: "master",
  ManagedEdge: "managed-edge",
  Outpost: "outpost",
  SearchSupervisor: "search-supervisor",
} as const;
export type SystemSettingsMode = OpenEnum<typeof SystemSettingsMode>;

export type Distributed = {
  mode: SystemSettingsMode;
};

export type SystemSettingsPii = {
  enablePiiDetection: boolean;
};

export type SystemSettingsProxy = {
  useEnvVars: boolean;
};

export type SystemSettingsRollback = {
  rollbackEnabled: boolean;
  rollbackRetries?: number | undefined;
  rollbackTimeout?: number | undefined;
};

export type SystemSettingsShutdown = {
  drainTimeout: number;
};

export type SystemSettingsSni = {
  disableSNIRouting: boolean;
};

export type SystemSettingsSockets = {
  directory?: string | undefined;
};

export type SystemSettingsFeatureFlagOverride = {
  disabled: boolean;
  flagId: string;
};

export type SystemSettingsSupport = {
  featureFlagOverrides?: Array<SystemSettingsFeatureFlagOverride> | undefined;
};

export const SystemSettingsUpgrade = {
  False: "false",
  Api: "api",
} as const;
export type SystemSettingsUpgrade = OpenEnum<typeof SystemSettingsUpgrade>;

export type SystemSettingsSystem = {
  intercom: boolean;
  upgrade: SystemSettingsUpgrade;
};

export type SystemSettingsTls = {
  defaultCipherList: string;
  defaultEcdhCurve: string;
  maxVersion: string;
  minVersion: string;
  rejectUnauthorized: boolean;
};

export type SystemSettingsWorkers = {
  count: number;
  enableHeapSnapshots?: boolean | undefined;
  loadThrottlePerc?: number | undefined;
  memory: number;
  minimum: number;
  startupMaxConns?: number | undefined;
  startupThrottleTimeout?: number | undefined;
  v8SingleThread?: boolean | undefined;
};

export type SystemSettings = {
  api: SystemSettingsApi;
  auth: AuthConfig;
  backups?: SystemSettingsBackups | undefined;
  customLogo?: SystemSettingsCustomLogo | undefined;
  distributed: Distributed;
  fips: boolean;
  git: GitSettings;
  jobLimits: JobSettings;
  limits: Limits;
  pii: SystemSettingsPii;
  proxy: SystemSettingsProxy;
  redisCacheLimits: RedisCacheLimits;
  redisLimits: RedisLimits;
  rollback?: SystemSettingsRollback | undefined;
  searchLimits: SearchSettings;
  servicesLimits: ServicesLimits;
  shutdown?: SystemSettingsShutdown | undefined;
  sni?: SystemSettingsSni | undefined;
  sockets?: SystemSettingsSockets | undefined;
  support?: SystemSettingsSupport | undefined;
  system: SystemSettingsSystem;
  tls?: SystemSettingsTls | undefined;
  upgradeGroupSettings: UpgradeGroupSettings;
  upgradeSettings?: UpgradeSettings | undefined;
  workers: SystemSettingsWorkers;
};

/** @internal */
export const SystemSettingsSsl$inboundSchema: z.ZodType<
  SystemSettingsSsl,
  z.ZodTypeDef,
  unknown
> = z.object({
  caPath: z.string().optional(),
  certPath: z.string(),
  disabled: z.boolean(),
  passphrase: z.string(),
  privKeyPath: z.string(),
});

export function systemSettingsSslFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSsl, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSsl$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSsl' from JSON`,
  );
}

/** @internal */
export const SystemSettingsApi$inboundSchema: z.ZodType<
  SystemSettingsApi,
  z.ZodTypeDef,
  unknown
> = z.object({
  baseUrl: z.string().optional(),
  disableApiCache: z.boolean().optional(),
  disabled: z.boolean(),
  headers: z.record(z.string()).optional(),
  host: z.string(),
  idleSessionTTL: z.number().optional(),
  listenOnPort: z.boolean().optional(),
  loginRateLimit: z.string().optional(),
  port: z.number(),
  protocol: z.string(),
  scripts: z.boolean().optional(),
  sensitiveFields: z.array(z.string()).optional(),
  ssl: z.lazy(() => SystemSettingsSsl$inboundSchema),
  ssoRateLimit: z.string().optional(),
  workerRemoteAccess: z.boolean(),
});

export function systemSettingsApiFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsApi, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsApi$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsApi' from JSON`,
  );
}

/** @internal */
export const SystemSettingsBackups$inboundSchema: z.ZodType<
  SystemSettingsBackups,
  z.ZodTypeDef,
  unknown
> = z.object({
  backupPersistence: z.string(),
  backupsDirectory: z.string(),
});

export function systemSettingsBackupsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsBackups, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsBackups$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsBackups' from JSON`,
  );
}

/** @internal */
export const SystemSettingsCustomLogo$inboundSchema: z.ZodType<
  SystemSettingsCustomLogo,
  z.ZodTypeDef,
  unknown
> = z.object({
  enabled: z.boolean(),
  logoDescription: z.string(),
  logoImage: z.string(),
});

export function systemSettingsCustomLogoFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsCustomLogo, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsCustomLogo$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsCustomLogo' from JSON`,
  );
}

/** @internal */
export const SystemSettingsMode$inboundSchema: z.ZodType<
  SystemSettingsMode,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(SystemSettingsMode);

/** @internal */
export const Distributed$inboundSchema: z.ZodType<
  Distributed,
  z.ZodTypeDef,
  unknown
> = z.object({
  mode: SystemSettingsMode$inboundSchema,
});

export function distributedFromJSON(
  jsonString: string,
): SafeParseResult<Distributed, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Distributed$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Distributed' from JSON`,
  );
}

/** @internal */
export const SystemSettingsPii$inboundSchema: z.ZodType<
  SystemSettingsPii,
  z.ZodTypeDef,
  unknown
> = z.object({
  enablePiiDetection: z.boolean(),
});

export function systemSettingsPiiFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsPii, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsPii$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsPii' from JSON`,
  );
}

/** @internal */
export const SystemSettingsProxy$inboundSchema: z.ZodType<
  SystemSettingsProxy,
  z.ZodTypeDef,
  unknown
> = z.object({
  useEnvVars: z.boolean(),
});

export function systemSettingsProxyFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsProxy, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsProxy$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsProxy' from JSON`,
  );
}

/** @internal */
export const SystemSettingsRollback$inboundSchema: z.ZodType<
  SystemSettingsRollback,
  z.ZodTypeDef,
  unknown
> = z.object({
  rollbackEnabled: z.boolean(),
  rollbackRetries: z.number().optional(),
  rollbackTimeout: z.number().optional(),
});

export function systemSettingsRollbackFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsRollback, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsRollback$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsRollback' from JSON`,
  );
}

/** @internal */
export const SystemSettingsShutdown$inboundSchema: z.ZodType<
  SystemSettingsShutdown,
  z.ZodTypeDef,
  unknown
> = z.object({
  drainTimeout: z.number(),
});

export function systemSettingsShutdownFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsShutdown, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsShutdown$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsShutdown' from JSON`,
  );
}

/** @internal */
export const SystemSettingsSni$inboundSchema: z.ZodType<
  SystemSettingsSni,
  z.ZodTypeDef,
  unknown
> = z.object({
  disableSNIRouting: z.boolean(),
});

export function systemSettingsSniFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSni, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSni$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSni' from JSON`,
  );
}

/** @internal */
export const SystemSettingsSockets$inboundSchema: z.ZodType<
  SystemSettingsSockets,
  z.ZodTypeDef,
  unknown
> = z.object({
  directory: z.string().optional(),
});

export function systemSettingsSocketsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSockets, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSockets$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSockets' from JSON`,
  );
}

/** @internal */
export const SystemSettingsFeatureFlagOverride$inboundSchema: z.ZodType<
  SystemSettingsFeatureFlagOverride,
  z.ZodTypeDef,
  unknown
> = z.object({
  disabled: z.boolean(),
  flagId: z.string(),
});

export function systemSettingsFeatureFlagOverrideFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsFeatureFlagOverride, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsFeatureFlagOverride$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsFeatureFlagOverride' from JSON`,
  );
}

/** @internal */
export const SystemSettingsSupport$inboundSchema: z.ZodType<
  SystemSettingsSupport,
  z.ZodTypeDef,
  unknown
> = z.object({
  featureFlagOverrides: z.array(
    z.lazy(() => SystemSettingsFeatureFlagOverride$inboundSchema),
  ).optional(),
});

export function systemSettingsSupportFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSupport, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSupport$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSupport' from JSON`,
  );
}

/** @internal */
export const SystemSettingsUpgrade$inboundSchema: z.ZodType<
  SystemSettingsUpgrade,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(SystemSettingsUpgrade);

/** @internal */
export const SystemSettingsSystem$inboundSchema: z.ZodType<
  SystemSettingsSystem,
  z.ZodTypeDef,
  unknown
> = z.object({
  intercom: z.boolean(),
  upgrade: SystemSettingsUpgrade$inboundSchema,
});

export function systemSettingsSystemFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSystem, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSystem$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSystem' from JSON`,
  );
}

/** @internal */
export const SystemSettingsTls$inboundSchema: z.ZodType<
  SystemSettingsTls,
  z.ZodTypeDef,
  unknown
> = z.object({
  defaultCipherList: z.string(),
  defaultEcdhCurve: z.string(),
  maxVersion: z.string(),
  minVersion: z.string(),
  rejectUnauthorized: z.boolean(),
});

export function systemSettingsTlsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsTls, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsTls$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsTls' from JSON`,
  );
}

/** @internal */
export const SystemSettingsWorkers$inboundSchema: z.ZodType<
  SystemSettingsWorkers,
  z.ZodTypeDef,
  unknown
> = z.object({
  count: z.number(),
  enableHeapSnapshots: z.boolean().optional(),
  loadThrottlePerc: z.number().optional(),
  memory: z.number(),
  minimum: z.number(),
  startupMaxConns: z.number().optional(),
  startupThrottleTimeout: z.number().optional(),
  v8SingleThread: z.boolean().optional(),
});

export function systemSettingsWorkersFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsWorkers, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsWorkers$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsWorkers' from JSON`,
  );
}

/** @internal */
export const SystemSettings$inboundSchema: z.ZodType<
  SystemSettings,
  z.ZodTypeDef,
  unknown
> = z.object({
  api: z.lazy(() => SystemSettingsApi$inboundSchema),
  auth: AuthConfig$inboundSchema,
  backups: z.lazy(() => SystemSettingsBackups$inboundSchema).optional(),
  customLogo: z.lazy(() => SystemSettingsCustomLogo$inboundSchema).optional(),
  distributed: z.lazy(() => Distributed$inboundSchema),
  fips: z.boolean(),
  git: GitSettings$inboundSchema,
  jobLimits: JobSettings$inboundSchema,
  limits: Limits$inboundSchema,
  pii: z.lazy(() => SystemSettingsPii$inboundSchema),
  proxy: z.lazy(() => SystemSettingsProxy$inboundSchema),
  redisCacheLimits: RedisCacheLimits$inboundSchema,
  redisLimits: RedisLimits$inboundSchema,
  rollback: z.lazy(() => SystemSettingsRollback$inboundSchema).optional(),
  searchLimits: SearchSettings$inboundSchema,
  servicesLimits: ServicesLimits$inboundSchema,
  shutdown: z.lazy(() => SystemSettingsShutdown$inboundSchema).optional(),
  sni: z.lazy(() => SystemSettingsSni$inboundSchema).optional(),
  sockets: z.lazy(() => SystemSettingsSockets$inboundSchema).optional(),
  support: z.lazy(() => SystemSettingsSupport$inboundSchema).optional(),
  system: z.lazy(() => SystemSettingsSystem$inboundSchema),
  tls: z.lazy(() => SystemSettingsTls$inboundSchema).optional(),
  upgradeGroupSettings: UpgradeGroupSettings$inboundSchema,
  upgradeSettings: UpgradeSettings$inboundSchema.optional(),
  workers: z.lazy(() => SystemSettingsWorkers$inboundSchema),
});

export function systemSettingsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettings, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettings$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettings' from JSON`,
  );
}
