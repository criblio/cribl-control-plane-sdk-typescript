/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { AuthConfig, AuthConfig$inboundSchema } from "./authconfig.js";
import {
  BackupsSettingsUnion,
  BackupsSettingsUnion$inboundSchema,
} from "./backupssettingsunion.js";
import {
  CustomLogoUnion,
  CustomLogoUnion$inboundSchema,
} from "./customlogounion.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import { GitSettings, GitSettings$inboundSchema } from "./gitsettings.js";
import { JobSettings, JobSettings$inboundSchema } from "./jobsettings.js";
import { Limits, Limits$inboundSchema } from "./limits.js";
import {
  PiiSettingsUnion,
  PiiSettingsUnion$inboundSchema,
} from "./piisettingsunion.js";
import {
  ProxySettingsUnion,
  ProxySettingsUnion$inboundSchema,
} from "./proxysettingsunion.js";
import {
  RedisCacheLimits,
  RedisCacheLimits$inboundSchema,
} from "./rediscachelimits.js";
import { RedisLimits, RedisLimits$inboundSchema } from "./redislimits.js";
import {
  RollbackSettingsUnion,
  RollbackSettingsUnion$inboundSchema,
} from "./rollbacksettingsunion.js";
import {
  SearchSettings,
  SearchSettings$inboundSchema,
} from "./searchsettings.js";
import {
  ServicesLimits,
  ServicesLimits$inboundSchema,
} from "./serviceslimits.js";
import {
  ShutdownSettingsUnion,
  ShutdownSettingsUnion$inboundSchema,
} from "./shutdownsettingsunion.js";
import {
  SniSettingsUnion,
  SniSettingsUnion$inboundSchema,
} from "./snisettingsunion.js";
import {
  TlsSettingsUnion,
  TlsSettingsUnion$inboundSchema,
} from "./tlssettingsunion.js";
import {
  UpgradeGroupSettingsUnion,
  UpgradeGroupSettingsUnion$inboundSchema,
} from "./upgradegroupsettingsunion.js";
import {
  UpgradeSettingsUnion,
  UpgradeSettingsUnion$inboundSchema,
} from "./upgradesettingsunion.js";
import {
  WorkersSettingsUnion,
  WorkersSettingsUnion$inboundSchema,
} from "./workerssettingsunion.js";

export type SystemSettingsSsl = {
  caPath?: string | undefined;
  certPath: string;
  disabled: boolean;
  passphrase: string;
  privKeyPath: string;
};

export type SystemSettingsApi = {
  baseUrl?: string | undefined;
  disableApiCache?: boolean | undefined;
  disabled: boolean;
  headers?: { [k: string]: string } | undefined;
  host: string;
  idleSessionTTL?: number | undefined;
  listenOnPort?: boolean | undefined;
  loginRateLimit?: string | undefined;
  port: number;
  protocol: string;
  scripts?: boolean | undefined;
  sensitiveFields?: Array<string> | undefined;
  ssl: SystemSettingsSsl;
  ssoRateLimit?: string | undefined;
  workerRemoteAccess: boolean;
};

export const SystemSettingsMode = {
  Edge: "edge",
  Worker: "worker",
  Single: "single",
  Master: "master",
  ManagedEdge: "managed-edge",
  Outpost: "outpost",
  SearchSupervisor: "search-supervisor",
} as const;
export type SystemSettingsMode = OpenEnum<typeof SystemSettingsMode>;

export type Distributed = {
  mode: SystemSettingsMode;
};

export type SystemSettingsSockets = {
  directory?: string | undefined;
};

export type SystemSettingsFeatureFlagOverride = {
  disabled: boolean;
  flagId: string;
};

export type SystemSettingsSupport = {
  featureFlagOverrides?: Array<SystemSettingsFeatureFlagOverride> | undefined;
};

export const SystemSettingsUpgrade = {
  False: "false",
  Api: "api",
} as const;
export type SystemSettingsUpgrade = OpenEnum<typeof SystemSettingsUpgrade>;

export type SystemSettingsSystem = {
  intercom: boolean;
  upgrade: SystemSettingsUpgrade;
};

export type SystemSettings = {
  api: SystemSettingsApi;
  auth: AuthConfig;
  backups: BackupsSettingsUnion;
  customLogo?: CustomLogoUnion | undefined;
  distributed: Distributed;
  fips: boolean;
  git: GitSettings;
  jobLimits: JobSettings;
  limits: Limits;
  pii: PiiSettingsUnion;
  proxy: ProxySettingsUnion;
  redisCacheLimits: RedisCacheLimits;
  redisLimits: RedisLimits;
  rollback: RollbackSettingsUnion;
  searchLimits: SearchSettings;
  servicesLimits: ServicesLimits;
  shutdown: ShutdownSettingsUnion;
  sni: SniSettingsUnion;
  sockets?: SystemSettingsSockets | undefined;
  support?: SystemSettingsSupport | undefined;
  system: SystemSettingsSystem;
  tls: TlsSettingsUnion;
  upgradeGroupSettings: UpgradeGroupSettingsUnion;
  upgradeSettings: UpgradeSettingsUnion;
  workers: WorkersSettingsUnion;
};

/** @internal */
export const SystemSettingsSsl$inboundSchema: z.ZodType<
  SystemSettingsSsl,
  z.ZodTypeDef,
  unknown
> = z.object({
  caPath: z.string().optional(),
  certPath: z.string(),
  disabled: z.boolean(),
  passphrase: z.string(),
  privKeyPath: z.string(),
});

export function systemSettingsSslFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSsl, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSsl$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSsl' from JSON`,
  );
}

/** @internal */
export const SystemSettingsApi$inboundSchema: z.ZodType<
  SystemSettingsApi,
  z.ZodTypeDef,
  unknown
> = z.object({
  baseUrl: z.string().optional(),
  disableApiCache: z.boolean().optional(),
  disabled: z.boolean(),
  headers: z.record(z.string()).optional(),
  host: z.string(),
  idleSessionTTL: z.number().optional(),
  listenOnPort: z.boolean().optional(),
  loginRateLimit: z.string().optional(),
  port: z.number(),
  protocol: z.string(),
  scripts: z.boolean().optional(),
  sensitiveFields: z.array(z.string()).optional(),
  ssl: z.lazy(() => SystemSettingsSsl$inboundSchema),
  ssoRateLimit: z.string().optional(),
  workerRemoteAccess: z.boolean(),
});

export function systemSettingsApiFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsApi, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsApi$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsApi' from JSON`,
  );
}

/** @internal */
export const SystemSettingsMode$inboundSchema: z.ZodType<
  SystemSettingsMode,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(SystemSettingsMode);

/** @internal */
export const Distributed$inboundSchema: z.ZodType<
  Distributed,
  z.ZodTypeDef,
  unknown
> = z.object({
  mode: SystemSettingsMode$inboundSchema,
});

export function distributedFromJSON(
  jsonString: string,
): SafeParseResult<Distributed, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Distributed$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Distributed' from JSON`,
  );
}

/** @internal */
export const SystemSettingsSockets$inboundSchema: z.ZodType<
  SystemSettingsSockets,
  z.ZodTypeDef,
  unknown
> = z.object({
  directory: z.string().optional(),
});

export function systemSettingsSocketsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSockets, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSockets$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSockets' from JSON`,
  );
}

/** @internal */
export const SystemSettingsFeatureFlagOverride$inboundSchema: z.ZodType<
  SystemSettingsFeatureFlagOverride,
  z.ZodTypeDef,
  unknown
> = z.object({
  disabled: z.boolean(),
  flagId: z.string(),
});

export function systemSettingsFeatureFlagOverrideFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsFeatureFlagOverride, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsFeatureFlagOverride$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsFeatureFlagOverride' from JSON`,
  );
}

/** @internal */
export const SystemSettingsSupport$inboundSchema: z.ZodType<
  SystemSettingsSupport,
  z.ZodTypeDef,
  unknown
> = z.object({
  featureFlagOverrides: z.array(
    z.lazy(() => SystemSettingsFeatureFlagOverride$inboundSchema),
  ).optional(),
});

export function systemSettingsSupportFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSupport, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSupport$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSupport' from JSON`,
  );
}

/** @internal */
export const SystemSettingsUpgrade$inboundSchema: z.ZodType<
  SystemSettingsUpgrade,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(SystemSettingsUpgrade);

/** @internal */
export const SystemSettingsSystem$inboundSchema: z.ZodType<
  SystemSettingsSystem,
  z.ZodTypeDef,
  unknown
> = z.object({
  intercom: z.boolean(),
  upgrade: SystemSettingsUpgrade$inboundSchema,
});

export function systemSettingsSystemFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettingsSystem, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettingsSystem$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettingsSystem' from JSON`,
  );
}

/** @internal */
export const SystemSettings$inboundSchema: z.ZodType<
  SystemSettings,
  z.ZodTypeDef,
  unknown
> = z.object({
  api: z.lazy(() => SystemSettingsApi$inboundSchema),
  auth: AuthConfig$inboundSchema,
  backups: BackupsSettingsUnion$inboundSchema,
  customLogo: CustomLogoUnion$inboundSchema.optional(),
  distributed: z.lazy(() => Distributed$inboundSchema),
  fips: z.boolean(),
  git: GitSettings$inboundSchema,
  jobLimits: JobSettings$inboundSchema,
  limits: Limits$inboundSchema,
  pii: PiiSettingsUnion$inboundSchema,
  proxy: ProxySettingsUnion$inboundSchema,
  redisCacheLimits: RedisCacheLimits$inboundSchema,
  redisLimits: RedisLimits$inboundSchema,
  rollback: RollbackSettingsUnion$inboundSchema,
  searchLimits: SearchSettings$inboundSchema,
  servicesLimits: ServicesLimits$inboundSchema,
  shutdown: ShutdownSettingsUnion$inboundSchema,
  sni: SniSettingsUnion$inboundSchema,
  sockets: z.lazy(() => SystemSettingsSockets$inboundSchema).optional(),
  support: z.lazy(() => SystemSettingsSupport$inboundSchema).optional(),
  system: z.lazy(() => SystemSettingsSystem$inboundSchema),
  tls: TlsSettingsUnion$inboundSchema,
  upgradeGroupSettings: UpgradeGroupSettingsUnion$inboundSchema,
  upgradeSettings: UpgradeSettingsUnion$inboundSchema,
  workers: WorkersSettingsUnion$inboundSchema,
});

export function systemSettingsFromJSON(
  jsonString: string,
): SafeParseResult<SystemSettings, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SystemSettings$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SystemSettings' from JSON`,
  );
}
