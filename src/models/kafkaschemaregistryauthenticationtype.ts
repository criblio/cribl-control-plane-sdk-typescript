/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  AuthTypeKafkaSchemaRegistry,
  AuthTypeKafkaSchemaRegistry$inboundSchema,
  AuthTypeKafkaSchemaRegistry$Outbound,
  AuthTypeKafkaSchemaRegistry$outboundSchema,
} from "./authtypekafkaschemaregistry.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import {
  TlsSettingsClientSideTypeKafkaSchemaRegistry,
  TlsSettingsClientSideTypeKafkaSchemaRegistry$inboundSchema,
  TlsSettingsClientSideTypeKafkaSchemaRegistry$Outbound,
  TlsSettingsClientSideTypeKafkaSchemaRegistry$outboundSchema,
} from "./tlssettingsclientsidetypekafkaschemaregistry.js";

export type KafkaSchemaRegistryAuthenticationType = {
  disabled?: boolean | undefined;
  /**
   * URL for accessing the Confluent Schema Registry. Example: http://localhost:8081. To connect over TLS, use https instead of http.
   */
  schemaRegistryURL?: string | undefined;
  /**
   * Maximum time to wait for a Schema Registry connection to complete successfully
   */
  connectionTimeout?: number | undefined;
  /**
   * Maximum time to wait for the Schema Registry to respond to a request
   */
  requestTimeout?: number | undefined;
  /**
   * Maximum number of times to try fetching schemas from the Schema Registry
   */
  maxRetries?: number | undefined;
  /**
   * Credentials to use when authenticating with the schema registry using basic HTTP authentication
   */
  auth?: AuthTypeKafkaSchemaRegistry | undefined;
  tls?: TlsSettingsClientSideTypeKafkaSchemaRegistry | undefined;
};

/** @internal */
export const KafkaSchemaRegistryAuthenticationType$inboundSchema: z.ZodType<
  KafkaSchemaRegistryAuthenticationType,
  z.ZodTypeDef,
  unknown
> = z.object({
  disabled: z.boolean().default(true),
  schemaRegistryURL: z.string().default("http://localhost:8081"),
  connectionTimeout: z.number().default(30000),
  requestTimeout: z.number().default(30000),
  maxRetries: z.number().default(1),
  auth: AuthTypeKafkaSchemaRegistry$inboundSchema.optional(),
  tls: TlsSettingsClientSideTypeKafkaSchemaRegistry$inboundSchema.optional(),
});
/** @internal */
export type KafkaSchemaRegistryAuthenticationType$Outbound = {
  disabled: boolean;
  schemaRegistryURL: string;
  connectionTimeout: number;
  requestTimeout: number;
  maxRetries: number;
  auth?: AuthTypeKafkaSchemaRegistry$Outbound | undefined;
  tls?: TlsSettingsClientSideTypeKafkaSchemaRegistry$Outbound | undefined;
};

/** @internal */
export const KafkaSchemaRegistryAuthenticationType$outboundSchema: z.ZodType<
  KafkaSchemaRegistryAuthenticationType$Outbound,
  z.ZodTypeDef,
  KafkaSchemaRegistryAuthenticationType
> = z.object({
  disabled: z.boolean().default(true),
  schemaRegistryURL: z.string().default("http://localhost:8081"),
  connectionTimeout: z.number().default(30000),
  requestTimeout: z.number().default(30000),
  maxRetries: z.number().default(1),
  auth: AuthTypeKafkaSchemaRegistry$outboundSchema.optional(),
  tls: TlsSettingsClientSideTypeKafkaSchemaRegistry$outboundSchema.optional(),
});

export function kafkaSchemaRegistryAuthenticationTypeToJSON(
  kafkaSchemaRegistryAuthenticationType: KafkaSchemaRegistryAuthenticationType,
): string {
  return JSON.stringify(
    KafkaSchemaRegistryAuthenticationType$outboundSchema.parse(
      kafkaSchemaRegistryAuthenticationType,
    ),
  );
}
export function kafkaSchemaRegistryAuthenticationTypeFromJSON(
  jsonString: string,
): SafeParseResult<KafkaSchemaRegistryAuthenticationType, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      KafkaSchemaRegistryAuthenticationType$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'KafkaSchemaRegistryAuthenticationType' from JSON`,
  );
}
