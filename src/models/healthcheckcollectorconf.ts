/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Defines how task discovery will be performed. Use None to skip the discovery. Use HTTP Request to make a REST call to discover tasks. Use Item List to enumerate items for collect to retrieve. Use JSON Response to manually define discover tasks as a JSON array of objects. Each entry returned by the discover operation will result in a collect task.
 */
export const HealthCheckCollectorConfDiscoverType = {
  /**
   * HTTP Request
   */
  Http: "http",
  /**
   * JSON Response
   */
  Json: "json",
  /**
   * Item List
   */
  List: "list",
  /**
   * None
   */
  None: "none",
} as const;
/**
 * Defines how task discovery will be performed. Use None to skip the discovery. Use HTTP Request to make a REST call to discover tasks. Use Item List to enumerate items for collect to retrieve. Use JSON Response to manually define discover tasks as a JSON array of objects. Each entry returned by the discover operation will result in a collect task.
 */
export type HealthCheckCollectorConfDiscoverType = OpenEnum<
  typeof HealthCheckCollectorConfDiscoverType
>;

export type HealthCheckCollectorConfDiscovery = {
  /**
   * Defines how task discovery will be performed. Use None to skip the discovery. Use HTTP Request to make a REST call to discover tasks. Use Item List to enumerate items for collect to retrieve. Use JSON Response to manually define discover tasks as a JSON array of objects. Each entry returned by the discover operation will result in a collect task.
   */
  discoverType?: HealthCheckCollectorConfDiscoverType | undefined;
};

/**
 * Health check HTTP method.
 */
export const HealthCheckMethod = {
  /**
   * GET
   */
  Get: "get",
  /**
   * POST
   */
  Post: "post",
  /**
   * POST with Body
   */
  PostWithBody: "post_with_body",
} as const;
/**
 * Health check HTTP method.
 */
export type HealthCheckMethod = OpenEnum<typeof HealthCheckMethod>;

export type HealthCheckCollectorConfCollectRequestHeader = {
  /**
   * Header Name
   */
  name: string;
  /**
   * JavaScript expression to compute the header value (can be a constant).
   */
  value: string;
};

/**
 * Authentication method for Discover and Collect REST calls. You can specify API Key–based authentication by adding the appropriate Collect headers.
 */
export const HealthCheckCollectorConfAuthentication = {
  None: "none",
  Basic: "basic",
  BasicSecret: "basicSecret",
  Login: "login",
  LoginSecret: "loginSecret",
  Oauth: "oauth",
  OauthSecret: "oauthSecret",
} as const;
/**
 * Authentication method for Discover and Collect REST calls. You can specify API Key–based authentication by adding the appropriate Collect headers.
 */
export type HealthCheckCollectorConfAuthentication = OpenEnum<
  typeof HealthCheckCollectorConfAuthentication
>;

export const HealthCheckCollectorConfHiddenDefaultBreakers = {
  Cribl: "Cribl",
} as const;
export type HealthCheckCollectorConfHiddenDefaultBreakers = OpenEnum<
  typeof HealthCheckCollectorConfHiddenDefaultBreakers
>;

/**
 * The algorithm to use when performing HTTP retries
 */
export const HealthCheckCollectorConfRetryType = {
  /**
   * Disabled
   */
  None: "none",
  /**
   * Backoff
   */
  Backoff: "backoff",
  /**
   * Static
   */
  Static: "static",
} as const;
/**
 * The algorithm to use when performing HTTP retries
 */
export type HealthCheckCollectorConfRetryType = OpenEnum<
  typeof HealthCheckCollectorConfRetryType
>;

export type HealthCheckCollectorConfRetryRules = {
  /**
   * The algorithm to use when performing HTTP retries
   */
  type?: HealthCheckCollectorConfRetryType | undefined;
  interval?: any | undefined;
  limit?: any | undefined;
  multiplier?: any | undefined;
  codes?: any | undefined;
  enableHeader?: any | undefined;
};

export type HealthCheckCollectorConf = {
  discovery?: HealthCheckCollectorConfDiscovery | undefined;
  /**
   * Expression to derive URL to use for the health check operation (can be a constant).
   */
  collectUrl: string;
  /**
   * Health check HTTP method.
   */
  collectMethod?: HealthCheckMethod | undefined;
  collectRequestParams?: any | undefined;
  collectBody?: any | undefined;
  /**
   * Optional health check request headers.
   */
  collectRequestHeaders?:
    | Array<HealthCheckCollectorConfCollectRequestHeader>
    | undefined;
  /**
   * Enable to make auth health check call.
   */
  authenticateCollect?: boolean | undefined;
  /**
   * Authentication method for Discover and Collect REST calls. You can specify API Key–based authentication by adding the appropriate Collect headers.
   */
  authentication?: HealthCheckCollectorConfAuthentication | undefined;
  /**
   * HTTP request inactivity timeout, use 0 to disable
   */
  timeout?: number | undefined;
  /**
   * Whether to reject certificates that cannot be verified against a valid CA (e.g., self-signed certificates).
   */
  rejectUnauthorized?: boolean | undefined;
  defaultBreakers?: HealthCheckCollectorConfHiddenDefaultBreakers | undefined;
  /**
   * List of headers that are safe to log in plain text.
   */
  safeHeaders?: Array<string> | undefined;
  retryRules?: HealthCheckCollectorConfRetryRules | undefined;
};

/** @internal */
export const HealthCheckCollectorConfDiscoverType$inboundSchema: z.ZodType<
  HealthCheckCollectorConfDiscoverType,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(HealthCheckCollectorConfDiscoverType);
/** @internal */
export const HealthCheckCollectorConfDiscoverType$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  HealthCheckCollectorConfDiscoverType
> = openEnums.outboundSchema(HealthCheckCollectorConfDiscoverType);

/** @internal */
export const HealthCheckCollectorConfDiscovery$inboundSchema: z.ZodType<
  HealthCheckCollectorConfDiscovery,
  z.ZodTypeDef,
  unknown
> = z.object({
  discoverType: HealthCheckCollectorConfDiscoverType$inboundSchema.default(
    "none",
  ),
});
/** @internal */
export type HealthCheckCollectorConfDiscovery$Outbound = {
  discoverType: string;
};

/** @internal */
export const HealthCheckCollectorConfDiscovery$outboundSchema: z.ZodType<
  HealthCheckCollectorConfDiscovery$Outbound,
  z.ZodTypeDef,
  HealthCheckCollectorConfDiscovery
> = z.object({
  discoverType: HealthCheckCollectorConfDiscoverType$outboundSchema.default(
    "none",
  ),
});

export function healthCheckCollectorConfDiscoveryToJSON(
  healthCheckCollectorConfDiscovery: HealthCheckCollectorConfDiscovery,
): string {
  return JSON.stringify(
    HealthCheckCollectorConfDiscovery$outboundSchema.parse(
      healthCheckCollectorConfDiscovery,
    ),
  );
}
export function healthCheckCollectorConfDiscoveryFromJSON(
  jsonString: string,
): SafeParseResult<HealthCheckCollectorConfDiscovery, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => HealthCheckCollectorConfDiscovery$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'HealthCheckCollectorConfDiscovery' from JSON`,
  );
}

/** @internal */
export const HealthCheckMethod$inboundSchema: z.ZodType<
  HealthCheckMethod,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(HealthCheckMethod);
/** @internal */
export const HealthCheckMethod$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  HealthCheckMethod
> = openEnums.outboundSchema(HealthCheckMethod);

/** @internal */
export const HealthCheckCollectorConfCollectRequestHeader$inboundSchema:
  z.ZodType<
    HealthCheckCollectorConfCollectRequestHeader,
    z.ZodTypeDef,
    unknown
  > = z.object({
    name: z.string(),
    value: z.string(),
  });
/** @internal */
export type HealthCheckCollectorConfCollectRequestHeader$Outbound = {
  name: string;
  value: string;
};

/** @internal */
export const HealthCheckCollectorConfCollectRequestHeader$outboundSchema:
  z.ZodType<
    HealthCheckCollectorConfCollectRequestHeader$Outbound,
    z.ZodTypeDef,
    HealthCheckCollectorConfCollectRequestHeader
  > = z.object({
    name: z.string(),
    value: z.string(),
  });

export function healthCheckCollectorConfCollectRequestHeaderToJSON(
  healthCheckCollectorConfCollectRequestHeader:
    HealthCheckCollectorConfCollectRequestHeader,
): string {
  return JSON.stringify(
    HealthCheckCollectorConfCollectRequestHeader$outboundSchema.parse(
      healthCheckCollectorConfCollectRequestHeader,
    ),
  );
}
export function healthCheckCollectorConfCollectRequestHeaderFromJSON(
  jsonString: string,
): SafeParseResult<
  HealthCheckCollectorConfCollectRequestHeader,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      HealthCheckCollectorConfCollectRequestHeader$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'HealthCheckCollectorConfCollectRequestHeader' from JSON`,
  );
}

/** @internal */
export const HealthCheckCollectorConfAuthentication$inboundSchema: z.ZodType<
  HealthCheckCollectorConfAuthentication,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(HealthCheckCollectorConfAuthentication);
/** @internal */
export const HealthCheckCollectorConfAuthentication$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  HealthCheckCollectorConfAuthentication
> = openEnums.outboundSchema(HealthCheckCollectorConfAuthentication);

/** @internal */
export const HealthCheckCollectorConfHiddenDefaultBreakers$inboundSchema:
  z.ZodType<
    HealthCheckCollectorConfHiddenDefaultBreakers,
    z.ZodTypeDef,
    unknown
  > = openEnums.inboundSchema(HealthCheckCollectorConfHiddenDefaultBreakers);
/** @internal */
export const HealthCheckCollectorConfHiddenDefaultBreakers$outboundSchema:
  z.ZodType<
    string,
    z.ZodTypeDef,
    HealthCheckCollectorConfHiddenDefaultBreakers
  > = openEnums.outboundSchema(HealthCheckCollectorConfHiddenDefaultBreakers);

/** @internal */
export const HealthCheckCollectorConfRetryType$inboundSchema: z.ZodType<
  HealthCheckCollectorConfRetryType,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(HealthCheckCollectorConfRetryType);
/** @internal */
export const HealthCheckCollectorConfRetryType$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  HealthCheckCollectorConfRetryType
> = openEnums.outboundSchema(HealthCheckCollectorConfRetryType);

/** @internal */
export const HealthCheckCollectorConfRetryRules$inboundSchema: z.ZodType<
  HealthCheckCollectorConfRetryRules,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: HealthCheckCollectorConfRetryType$inboundSchema.default("backoff"),
  interval: z.any().optional(),
  limit: z.any().optional(),
  multiplier: z.any().optional(),
  codes: z.any().optional(),
  enableHeader: z.any().optional(),
});
/** @internal */
export type HealthCheckCollectorConfRetryRules$Outbound = {
  type: string;
  interval?: any | undefined;
  limit?: any | undefined;
  multiplier?: any | undefined;
  codes?: any | undefined;
  enableHeader?: any | undefined;
};

/** @internal */
export const HealthCheckCollectorConfRetryRules$outboundSchema: z.ZodType<
  HealthCheckCollectorConfRetryRules$Outbound,
  z.ZodTypeDef,
  HealthCheckCollectorConfRetryRules
> = z.object({
  type: HealthCheckCollectorConfRetryType$outboundSchema.default("backoff"),
  interval: z.any().optional(),
  limit: z.any().optional(),
  multiplier: z.any().optional(),
  codes: z.any().optional(),
  enableHeader: z.any().optional(),
});

export function healthCheckCollectorConfRetryRulesToJSON(
  healthCheckCollectorConfRetryRules: HealthCheckCollectorConfRetryRules,
): string {
  return JSON.stringify(
    HealthCheckCollectorConfRetryRules$outboundSchema.parse(
      healthCheckCollectorConfRetryRules,
    ),
  );
}
export function healthCheckCollectorConfRetryRulesFromJSON(
  jsonString: string,
): SafeParseResult<HealthCheckCollectorConfRetryRules, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      HealthCheckCollectorConfRetryRules$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'HealthCheckCollectorConfRetryRules' from JSON`,
  );
}

/** @internal */
export const HealthCheckCollectorConf$inboundSchema: z.ZodType<
  HealthCheckCollectorConf,
  z.ZodTypeDef,
  unknown
> = z.object({
  discovery: z.lazy(() => HealthCheckCollectorConfDiscovery$inboundSchema)
    .optional(),
  collectUrl: z.string(),
  collectMethod: HealthCheckMethod$inboundSchema.default("get"),
  collectRequestParams: z.any().optional(),
  collectBody: z.any().optional(),
  collectRequestHeaders: z.array(
    z.lazy(() => HealthCheckCollectorConfCollectRequestHeader$inboundSchema),
  ).optional(),
  authenticateCollect: z.boolean().default(false),
  authentication: HealthCheckCollectorConfAuthentication$inboundSchema.default(
    "none",
  ),
  timeout: z.number().default(30),
  rejectUnauthorized: z.boolean().default(false),
  defaultBreakers: HealthCheckCollectorConfHiddenDefaultBreakers$inboundSchema
    .optional(),
  safeHeaders: z.array(z.string()).optional(),
  retryRules: z.lazy(() => HealthCheckCollectorConfRetryRules$inboundSchema)
    .optional(),
});
/** @internal */
export type HealthCheckCollectorConf$Outbound = {
  discovery?: HealthCheckCollectorConfDiscovery$Outbound | undefined;
  collectUrl: string;
  collectMethod: string;
  collectRequestParams?: any | undefined;
  collectBody?: any | undefined;
  collectRequestHeaders?:
    | Array<HealthCheckCollectorConfCollectRequestHeader$Outbound>
    | undefined;
  authenticateCollect: boolean;
  authentication: string;
  timeout: number;
  rejectUnauthorized: boolean;
  defaultBreakers?: string | undefined;
  safeHeaders?: Array<string> | undefined;
  retryRules?: HealthCheckCollectorConfRetryRules$Outbound | undefined;
};

/** @internal */
export const HealthCheckCollectorConf$outboundSchema: z.ZodType<
  HealthCheckCollectorConf$Outbound,
  z.ZodTypeDef,
  HealthCheckCollectorConf
> = z.object({
  discovery: z.lazy(() => HealthCheckCollectorConfDiscovery$outboundSchema)
    .optional(),
  collectUrl: z.string(),
  collectMethod: HealthCheckMethod$outboundSchema.default("get"),
  collectRequestParams: z.any().optional(),
  collectBody: z.any().optional(),
  collectRequestHeaders: z.array(
    z.lazy(() => HealthCheckCollectorConfCollectRequestHeader$outboundSchema),
  ).optional(),
  authenticateCollect: z.boolean().default(false),
  authentication: HealthCheckCollectorConfAuthentication$outboundSchema.default(
    "none",
  ),
  timeout: z.number().default(30),
  rejectUnauthorized: z.boolean().default(false),
  defaultBreakers: HealthCheckCollectorConfHiddenDefaultBreakers$outboundSchema
    .optional(),
  safeHeaders: z.array(z.string()).optional(),
  retryRules: z.lazy(() => HealthCheckCollectorConfRetryRules$outboundSchema)
    .optional(),
});

export function healthCheckCollectorConfToJSON(
  healthCheckCollectorConf: HealthCheckCollectorConf,
): string {
  return JSON.stringify(
    HealthCheckCollectorConf$outboundSchema.parse(healthCheckCollectorConf),
  );
}
export function healthCheckCollectorConfFromJSON(
  jsonString: string,
): SafeParseResult<HealthCheckCollectorConf, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => HealthCheckCollectorConf$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'HealthCheckCollectorConf' from JSON`,
  );
}
